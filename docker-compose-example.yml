version: '3'
services:

  ####Drupal7####################################################
  # drupal7:
  #   image: lawxen/drupal:7-nginx-php72
  #   # volumes:
  #   #   - ./d8/www/:/var/www/html
  #   container_name: drupal7
  #   ports:
  #     - 8081:80
  #   networks:
  #     - backend

  ####Drupal7 dev####################################################
  # drupal7-dev:
  #   image: lawxen/drupal:7-nginx-php72-dev
  #   # volumes:
  #   #   - ./d8/www/:/var/www/html
  #   container_name: drupal7-dev
  #   ports:
  #     - 8082:80
  #   networks:
  #     - backend

  ####Drupal8####################################################
  drupal8:
    image: lawxen/drupal:8-nginx-php74
    # volumes:
    #   - ./d8/www/:/var/www/html
    container_name: drupal8
    ports:
      - 8083:80
    networks:
      - backend

  ####Drupal7 dev####################################################
  # drupal8-dev:
  #   image: lawxen/drupal:8-nginx-php74-dev
  #   # volumes:
  #   #   - ./d8/www/:/var/www/html
  #   container_name: drupal8-dev
  #   ports:
  #     - 8089:80
  #   networks:
  #     - backend

  ### Mariadb Container #######################################
  mariadb:
    image: mariadb:latest
    volumes:
      - ./mariadb:/var/lib/mysql
      - ./config/mysql:/etc/mysql/conf.d
    environment:
      - MYSQL_ROOT_PASSWORD=password
    ports:
      - "3306"
    container_name: mariadb
    restart: always
    networks:
      - backend

### Redis Container #########################################
  # redis:
  #   image: bitnami/redis:4.0-debian-9
  #   container_name: redis
  #   environment:
  #     - REDIS_PASSWORD=c4200bc580
  #     - ALLOW_EMPTY_PASSWORD=no
  #   ports:
  #     - "6379"
  #   networks:
  #     - backend

### Network ###############################################
networks:
  backend:
    driver: "bridge"
